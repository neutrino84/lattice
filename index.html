<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Lattice Development</title>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
    }
    body {
      padding: 10px;
    }
    #grid {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 16px;
      line-height: 20px;
      width: 1280px;
      height: 512px;
    }
    #grid .header,
    #grid .grid,
    #grid .column-row {
      position: relative;
    }
    #grid .header {
      overflow: hidden;
    }
    #grid .column-row {
      background: #dfdfdf;
      border-top: solid 1px #cacaca;
      border-bottom: solid 1px #cacaca;
    }
    #grid .grid {
      overflow: auto;
    }
    #grid .row {
      position: absolute;
      width: 100%;
      background: #f8f8f8;
    }
    #grid .row.title {
      background: #efefef;
    }
    #grid .column-cell,
    #grid .cell {
      position: absolute;
      padding: 10px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      border-right: solid 1px #c8c8c8;
    }
    #grid .column-cell:last-child,
    #grid .cell:last-child {
      border-right: none;
    }
    #grid .column-cell {
      text-transform: uppercase;
    }
    /*
    #grid .cell {

    }
    */
    #grid .column-cell .column-dragger {
      position: absolute;
      top: 0;
      right: 0;
      width: 5px;
      height: 100%;
      cursor: ew-resize;
    }
  </style>
</head>
<body>
  <div id="grid"></div>
  <script type="module">
    import Grid from './dist/lattice.esm.js'

    let words = ['hamburger', 'cheese', 'nuts', 'pizza', 'potatoes', 'brocolli', 'meat', 'fruit', 'candy', 'milk', 'chicken', 'onions', 'pickles']
    let types = ['item', 'title', 'item', 'item', 'item', 'item', 'item']
    let random = (num, arr) => {
      let index
      let string = []
      let list = arr || words
      for (let i=0; i<num; i++) {
        index = Math.floor(Math.random() * list.length)
        string.push(list[index])
      }
      return string.join(' ')
    }

    let data = []
    for (let i=0; i<250; i++) {
      data.push({
        id: i + '000',
        title: random(3),
        description: random(8),
        category: random(1),
        type: random(1, types),
      })
    }
    
    let core = new Grid({
      debug: true,
      element: 'grid',
      data: data,
      classes: (data) => { return [data['type']] },
      definitions: [{
        name: 'code',
        field: 'id',
        width: 80,
      }, {
        name: 'title',
        field: 'title',
        width: 240,
      }, {
        name: 'category',
        field: 'category',
        width: 140,
      }, {
        name: 'description',
        field: 'description',
        width: 440,
      }],
    })
  </script>
</body>
</html>